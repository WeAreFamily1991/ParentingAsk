/************************************************************
 *  * EaseMob CONFIDENTIAL
 * __________________
 * Copyright (C) 2013-2014 EaseMob Technologies. All rights reserved.
 *
 * NOTICE: All information contained herein is, and remains
 * the property of EaseMob Technologies.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from EaseMob Technologies.
 */

#import "ConvertToCommonEmoticonsHelper.h"
#import "Emoji.h"

static NSString * kStr_01 =@"/::~"  ;
static NSString * kStr_02 =@"/::$"  ;
static NSString * kStr_03 =@"/::X"  ;
static NSString * kStr_04 =@"/::'(" ;
static NSString * kStr_05 =@"/::O"  ;
static NSString * kStr_06 =@"/:--b" ;
static NSString * kStr_07 =@"/::T";
static NSString * kStr_08 =@"/:,@-D";
static NSString * kStr_09 =@"/::g";
static NSString * kStr_10 =@"/:|-)";
static NSString * kStr_11 =@"/::!";
static NSString * kStr_12 =@"/::,@";
static NSString * kStr_13 =@"/:,@f";
static NSString * kStr_14 =@"/::-S";
static NSString * kStr_15 =@"/:?";
static NSString * kStr_16 =@"/:,@x";
static NSString * kStr_17 =@"/:,@@";
static NSString * kStr_18 =@"/::8";
static NSString * kStr_19 =@"/:,@!";
static NSString * kStr_20 =@"/:xx";
static NSString * kStr_21 =@"/:bye";
static NSString * kStr_22 =@"/:wipe";
static NSString * kStr_23 =@"/:dig";
static NSString * kStr_24 =@"/:&-(";
static NSString * kStr_25 =@"/:<@";
static NSString * kStr_26 =@"/:@>";
static NSString * kStr_27 =@"/::-O";
static NSString * kStr_28 =@"/:>-|";
static NSString * kStr_29 =@"/:P-(";
static NSString * kStr_30 =@"/::'|";
static NSString * kStr_31 =@"/:@x";
static NSString * kStr_32 =@"/:8*";
static NSString * kStr_33 =@"/:pd";
static NSString * kStr_34 =@"/:<W>";
static NSString * kStr_35 =@"/:beer";
static NSString * kStr_36 =@"/:basketb";
static NSString * kStr_37 =@"/:oo";
static NSString * kStr_38 =@"/:coffee";
static NSString * kStr_39 =@"/:eat";
static NSString * kStr_40 =@"/:pig";
static NSString * kStr_41 =@"/:fade";
static NSString * kStr_42 =@"/:cake";
static NSString * kStr_43 =@"/:li";
static NSString * kStr_44 =@"/:bome";
static NSString * kStr_45 =@"/:kn";
static NSString * kStr_46 =@"/:footb";
static NSString * kStr_47 =@"/:ladybug";
static NSString * kStr_48 =@"/:shit";
static NSString * kStr_49 =@"/:gift";
static NSString * kStr_50 =@"/:hug";
static NSString * kStr_51 =@"/:share";
static NSString * kStr_52 =@"/:cake";
static NSString * kStr_53 =@"/:v";
static NSString * kStr_54 =@"/:@)";
static NSString * kStr_55 =@"/:jj";
static NSString * kStr_56 =@"/:@@";
static NSString * kStr_57 =@"/:bad";
static NSString * kStr_58 =@"/:lvu";
static NSString * kStr_59 =@"/:no";
static NSString * kStr_60 =@"/:ok";
static NSString * kStr_61 =@"/:love";
static NSString * kStr_62 =@"/:<L>";
static NSString * kStr_63 =@"/:jump";
static NSString * kStr_64 =@"/:shake";
static NSString * kStr_65 =@"/:<O>";
static NSString * kStr_66 =@"/:circle";
static NSString * kStr_67 =@"/:kotow";
static NSString * kStr_68 =@"/:turn";
static NSString * kStr_69 =@"/:skip";
static NSString * kStr_70 =@"/:oY";
static NSString * kStr_71 =@"î‰";
static NSString * kStr_72 =@"î";
static NSString * kStr_73 =@"î";
static NSString * kStr_74 =@"î„‡";
static NSString * kStr_75 =@"îƒ";
static NSString * kStr_76 =@"î…";
static NSString * kStr_77 =@"îŠ";
static NSString * kStr_78 =@"î";
static NSString * kStr_79 =@"î„š";
static NSString * kStr_80 =@"î„›";
static NSString * kStr_81 =@"î·";
static NSString * kStr_82 =@"î";
static NSString * kStr_83 =@"î…Œ";
static NSString * kStr_84 =@"î„¯";
static NSString * kStr_85 =@"î‹";
static NSString * kStr_86 =@"îŒ’";
static NSString * kStr_87 =@"î„’";
//static NSString * kStr_88 =@"";
//static NSString * kStr_89 =@"";
//static NSString * kStr_90 =@"";


static NSString * kCHN_01 =@"/æ’‡å˜´"  ;
static NSString * kCHN_02 =@"/å®³ç¾"  ;
static NSString * kCHN_03 =@"/é—­å˜´"  ;
static NSString * kCHN_04 =@"/å¤§å“­" ;
static NSString * kCHN_05 =@"/æƒŠè®¶"  ;
static NSString * kCHN_06 =@"/å†·æ±—" ;
static NSString * kCHN_07 =@"/å";
static NSString * kCHN_08 =@"/æ„‰å¿«";
static NSString * kCHN_09 =@"/é¥¥é¥¿";
static NSString * kCHN_10 =@"/å›°";
static NSString * kCHN_11 =@"/æƒŠæ";
static NSString * kCHN_12 =@"/æ‚ é—²";
static NSString * kCHN_13 =@"/å¥‹æ–—";
static NSString * kCHN_14 =@"/å’’éª‚";
static NSString * kCHN_15 =@"/ç–‘é—®";
static NSString * kCHN_16 =@"/å˜˜";
static NSString * kCHN_17 =@"/æ™•";
static NSString * kCHN_18 =@"/ç–¯äº†";
static NSString * kCHN_19 =@"/è¡°";
static NSString * kCHN_20 =@"/æ•²æ‰“";
static NSString * kCHN_21 =@"/å†è§";
static NSString * kCHN_22 =@"/æ“¦æ±—";
static NSString * kCHN_23 =@"/æŠ é¼»";
static NSString * kCHN_24 =@"/ç³—å¤§äº†";
static NSString * kCHN_25 =@"/å·¦å“¼å“¼";
static NSString * kCHN_26 =@"/å³å“¼å“¼";
static NSString * kCHN_27 =@"/å“ˆæ¬ ";
static NSString * kCHN_28 =@"/é„™è§†";
static NSString * kCHN_29 =@"/å§”å±ˆ";
static NSString * kCHN_30 =@"/å¿«å“­äº†";
static NSString * kCHN_31 =@"/å“åäº†";
static NSString * kCHN_32 =@"/å¯æ€œ";
static NSString * kCHN_33 =@"/èœåˆ€";
static NSString * kCHN_34 =@"/è¥¿ç“œ";
static NSString * kCHN_35 =@"/å•¤é…’";
static NSString * kCHN_36 =@"/ç¯®çƒ";
static NSString * kCHN_37 =@"/ä¹’ä¹“";
static NSString * kCHN_38 =@"/å’–å•¡";
static NSString * kCHN_39 =@"/é¥­";
static NSString * kCHN_40 =@"/çŒªå¤´";
static NSString * kCHN_41 =@"/å‡‹è°¢";
static NSString * kCHN_42 =@"/è›‹ç³•";
static NSString * kCHN_43 =@"/é—ªç”µ";
static NSString * kCHN_44 =@"/ç‚¸å¼¹";
static NSString * kCHN_45 =@"/åˆ€";
static NSString * kCHN_46 =@"/è¶³çƒ";
static NSString * kCHN_47 =@"/ç“¢è™«";
static NSString * kCHN_48 =@"/ä¾¿ä¾¿";
static NSString * kCHN_49 =@"/ç¤¼ç‰©";
static NSString * kCHN_50 =@"/æ‹¥æŠ±";
static NSString * kCHN_51 =@"/æ¡æ‰‹";
static NSString * kCHN_52 =@"/è›‹ç³•";
static NSString * kCHN_53 =@"/èƒœåˆ©";
static NSString * kCHN_54 =@"/æŠ±æ‹³";
static NSString * kCHN_55 =@"/å‹¾å¼•";
static NSString * kCHN_56 =@"/æ‹³å¤´";
static NSString * kCHN_57 =@"/å·®åŠ²";
static NSString * kCHN_58 =@"/çˆ±ä½ ";
static NSString * kCHN_59 =@"/NO";
static NSString * kCHN_60 =@"/OK";
static NSString * kCHN_61 =@"/çˆ±æƒ…";
static NSString * kCHN_62 =@"/é£å»";
static NSString * kCHN_63 =@"/è·³è·³";
static NSString * kCHN_64 =@"/å‘æŠ–";
static NSString * kCHN_65 =@"/æ€„ç«";
static NSString * kCHN_66 =@"/è½¬åœˆ";
static NSString * kCHN_67 =@"/ç£•å¤´";
static NSString * kCHN_68 =@"/å›å¤´";
static NSString * kCHN_69 =@"/è·³ç»³";
static NSString * kCHN_70 =@"/æŠ•é™";
static NSString * kCHN_71 =@"î‰";
static NSString * kCHN_72 =@"î";
static NSString * kCHN_73 =@"î";
static NSString * kCHN_74 =@"î„‡";
static NSString * kCHN_75 =@"îƒ";
static NSString * kCHN_76 =@"î…";
static NSString * kCHN_77 =@"îŠ";
static NSString * kCHN_78 =@"î";
static NSString * kCHN_79 =@"î„š";
static NSString * kCHN_80 =@"î„›";
static NSString * kCHN_81 =@"î·";
static NSString * kCHN_82 =@"î";
static NSString * kCHN_83 =@"î…Œ";
static NSString * kCHN_84 =@"î„¯";
static NSString * kCHN_85 =@"î‹";
static NSString * kCHN_86 =@"îŒ’";
static NSString * kCHN_87 =@"î„’";

#define kStr_count 87

@implementation ConvertToCommonEmoticonsHelper

#pragma mark - emotics
+ (NSString *)convertToCommonEmoticons:(NSString *)text {
    int allEmoticsCount = (int)[Emoji allEmoji].count;
    NSMutableString *retText = [[NSMutableString alloc] initWithString:text];
    for(int i=0; i<allEmoticsCount; ++i) {
        NSRange range;
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜Š"
                                 withString:@"[):]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜ƒ"
                                 withString:@"[:D]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜‰"
                                 withString:@"[;)]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜®"
                                 withString:@"[:-o]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜‹"
                                 withString:@"[:p]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜"
                                 withString:@"[(H)]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜¡"
                                 withString:@"[:@]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜–"
                                 withString:@"[:s]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜³"
                                 withString:@"[:$]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜"
                                 withString:@"[:(]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜­"
                                 withString:@"[:'(]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜"
                                 withString:@"[:|]"
                                    options:NSLiteralSearch
                                      range:range];
        
//        range.location = 0;
//        range.length = retText.length;
//        [retText replaceOccurrencesOfString:@"ğŸ˜‡"
//                                 withString:@"[(a)]"
//                                    options:NSLiteralSearch
//                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜¬"
                                 withString:@"[8o|]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜†"
                                 withString:@"[8-|]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜±"
                                 withString:@"[+o(]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ…"
                                 withString:@"[<o)]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜´"
                                 withString:@"[|-)]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜•"
                                 withString:@"[*-)]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜·"
                                 withString:@"[:-#]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜¯"
                                 withString:@"[:-*]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜"
                                 withString:@"[^o)]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜‘"
                                 withString:@"[8-)]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ’–"
                                 withString:@"[(|)]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ’”"
                                 withString:@"[(u)]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸŒ™"
                                 withString:@"[(S)]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸŒŸ"
                                 withString:@"[(*)]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸŒ"
                                 withString:@"[(#)]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜‚"
                                 withString:@"[(R)]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        
        [retText replaceOccurrencesOfString:@"ğŸ˜š"
                                 withString:@"[(})]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        
        [retText replaceOccurrencesOfString:@"ğŸ˜"
                                 withString:@"[({)]"
                                    options:NSLiteralSearch
                                      range:range];

        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ’‹"
                                 withString:@"[(k)]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸŒ¹"
                                 withString:@"[(F)]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ‘"
                                 withString:@"[(W)]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ‘"
                                 withString:@"[(D)]"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ‘"
                                 withString:@"/:weak"
                                    options:NSLiteralSearch
                                      range:range];
    }
    
    return retText;
}

+ (NSString *)convertToSystemEmoticons:(NSString *)text
{
    if (![text isKindOfClass:[NSString class]]) {
        return @"";
    }
    
    if ([text length] == 0) {
        return @"";
    }
    int allEmoticsCount = (int)[[Emoji allEmoji] count];
    NSMutableString *retText = [[NSMutableString alloc] initWithString:text];
    for(int i=0; i<allEmoticsCount; ++i) {
        NSRange range;
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[):]"
                                 withString:@"ğŸ˜Š"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[:D]"
                                 withString:@"ğŸ˜ƒ"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[;)]"
                                 withString:@"ğŸ˜‰"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[:-o]"
                                 withString:@"ğŸ˜®"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[:p]"
                                 withString:@"ğŸ˜‹"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[(H)]"
                                 withString:@"ğŸ˜"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[:@]"
                                 withString:@"ğŸ˜¡"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[:s]"
                                 withString:@"ğŸ˜–"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[:$]"
                                 withString:@"ğŸ˜³"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[:(]"
                                 withString:@"ğŸ˜"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[:'(]"
                                 withString:@"ğŸ˜­"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[:|]"
                                 withString:@"ğŸ˜"
                                    options:NSLiteralSearch
                                      range:range];
        
//        range.location = 0;
//        range.length = retText.length;
//        [retText replaceOccurrencesOfString:@"[(a)]"
//                                 withString:@"ğŸ˜‡"
//                                    options:NSLiteralSearch
//                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[8o|]"
                                 withString:@"ğŸ˜¬"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[8-|]"
                                 withString:@"ğŸ˜†"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[+o(]"
                                 withString:@"ğŸ˜±"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[<o)]"
                                 withString:@"ğŸ…"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[|-)]"
                                 withString:@"ğŸ˜´"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[*-)]"
                                 withString:@"ğŸ˜•"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[:-#]"
                                 withString:@"ğŸ˜·"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[:-*]"
                                 withString:@"ğŸ˜¯"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[^o)]"
                                 withString:@"ğŸ˜"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[8-)]"
                                 withString:@"ğŸ˜‘"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[(|)]"
                                 withString:@"ğŸ’–"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[(u)]"
                                 withString:@"ğŸ’”"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[(S)]"
                                 withString:@"ğŸŒ™"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[(*)]"
                                 withString:@"ğŸŒŸ"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[(#)]"
                                 withString:@"ğŸŒ"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[(R)]"
                                 withString:@"ğŸ˜‚"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        
        [retText replaceOccurrencesOfString:@"[(})]"
                                 withString:@"ğŸ˜š"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        
        [retText replaceOccurrencesOfString:@"[({)]"
                                 withString:@"ğŸ˜"
                                    options:NSLiteralSearch
                                      range:range];

        
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[(k)]"
                                 withString:@"ğŸ’‹"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[(F)]"
                                 withString:@"ğŸŒ¹"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[(W)]"
                                 withString:@"ğŸ‘"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"[(D)]"
                                 withString:@"ğŸ‘"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/:weak"
                                 withString:@"ğŸ‘"
                                    options:NSLiteralSearch
                                      range:range];
        
    }
    
    return retText;
}

//zou 2015-12-10 è¡¨æƒ…è½¬æ¢ä¸ºå¾®ä¿¡è¡¨æƒ…(å¾®ä¿¡è¡¨æƒ…æ”¯æŒç¯ä¿¡çš„emojiè¡¨æƒ…ï¼Œè¯¥æ–¹æ³•å¼ƒç”¨)
+ (NSString *)convertToWebChatEmoticons:(NSString *)text
{
    int allEmoticsCount = (int)[Emoji allEmoji].count;
    NSMutableString *retText = [[NSMutableString alloc] initWithString:text];
    for(int i=0; i<allEmoticsCount; ++i) {
        NSRange range;
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜Š"
                                 withString:@"/::)"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜ƒ"
                                 withString:@"/::D"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜‰"
                                 withString:@"/::P"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜®"
                                 withString:@"/::|"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜‹"
                                 withString:@"/:,@P"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜"
                                 withString:@"/:8-)"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜¡"
                                 withString:@"/::@"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜–"
                                 withString:@"/::Q"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜³"
                                 withString:@"/::|"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜"
                                 withString:@"/::-|"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜­"
                                 withString:@"/::<"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜"
                                 withString:@"/::("
                                    options:NSLiteralSearch
                                      range:range];
        
//        range.location = 0;
//        range.length = retText.length;
//        [retText replaceOccurrencesOfString:@"ğŸ˜‡"
//                                 withString:@"[(a)]"
//                                    options:NSLiteralSearch
//                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜¬"
                                 withString:@"/:B-)"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜†"
                                 withString:@"/::>"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜±"
                                 withString:@"/:!!!"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ…"
                                 withString:@"/::+"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜´"
                                 withString:@"/::Z"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜•"
                                 withString:@"/:,@o"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜·"
                                 withString:@"îŒ"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜¯"
                                 withString:@"/::d"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜"
                                 withString:@"/:X-)"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜‘"
                                 withString:@"/::L"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ’–"
                                 withString:@"/:heart"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ’”"
                                 withString:@"/:break"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸŒ™"
                                 withString:@"/:moon"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸŒŸ"
                                 withString:@"/:sun"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸŒ"
                                 withString:@"/:sun"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ˜‚"
                                 withString:@"î’"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        
        [retText replaceOccurrencesOfString:@"ğŸ˜š"
                                 withString:@"/::*"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        
        [retText replaceOccurrencesOfString:@"ğŸ˜"
                                 withString:@"/::B"
                                    options:NSLiteralSearch
                                      range:range];
        
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ’‹"
                                 withString:@"/:showlove"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸŒ¹"
                                 withString:@"/:rose"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ‘"
                                 withString:@"/:handclap"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ‘"
                                 withString:@"/:strong"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"ğŸ‘"
                                 withString:@"/:weak"
                                    options:NSLiteralSearch
                                      range:range];
    }
    return retText;
}

//å¾®ä¿¡è¡¨æƒ…è½¬æ¢ä¸ºç¯ä¿¡è¡¨æƒ…
+ (NSString *)convertHuanXinEmoticons:(NSString *)text
{
    int allEmoticsCount = (int)[Emoji allEmoji].count;
    NSMutableString *retText = [[NSMutableString alloc] initWithString:text];
    
    
    for(int i=0; i<allEmoticsCount; ++i) {
        NSRange range;
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/::)"
                                 withString:@"ğŸ˜Š"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/::D"
                                 withString:@"ğŸ˜ƒ"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/::P"
                                 withString:@"ğŸ˜‰"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/::|"
                                 withString:@"ğŸ˜®"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/:,@P"
                                 withString:@"ğŸ˜‹"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/:8-)"
                                 withString:@"ğŸ˜"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/::@"
                                 withString:@"ğŸ˜¡"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/::Q"
                                 withString:@"ğŸ˜–"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/::|"
                                 withString:@"ğŸ˜³"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/::-|"
                                 withString:@"ğŸ˜"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/::<"
                                 withString:@"ğŸ˜­"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/::("
                                 withString:@"ğŸ˜"
                                    options:NSLiteralSearch
                                      range:range];
        
//        range.location = 0;
//        range.length = retText.length;
//        [retText replaceOccurrencesOfString:@"[(a)]"
//                                 withString:@"ğŸ˜‡"
//                                    options:NSLiteralSearch
//                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/:B-)"
                                 withString:@"ğŸ˜¬"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/::>"
                                 withString:@"ğŸ˜†"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/:!!!"
                                 withString:@"ğŸ˜±"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/::+"
                                 withString:@"ğŸ…"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/::Z"
                                 withString:@"ğŸ˜´"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/:,@o"
                                 withString:@"ğŸ˜•"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"îŒ"
                                 withString:@"ğŸ˜·"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/::d"
                                 withString:@"ğŸ˜¯"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/:X-)"
                                 withString:@"ğŸ˜"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/::L"
                                 withString:@"ğŸ˜‘"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/:heart"
                                 withString:@"ğŸ’–"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/:break"
                                 withString:@"ğŸ’”"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/:moon"
                                 withString:@"ğŸŒ™"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/:sun"
                                 withString:@"ğŸŒŸ"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/:sun"
                                 withString:@"ğŸŒ"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"î’"
                                 withString:@"ğŸ˜‚"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        
        [retText replaceOccurrencesOfString:@"/::*"
                                 withString:@"ğŸ˜š"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        
        [retText replaceOccurrencesOfString:@"/::B"
                                 withString:@"ğŸ˜"
                                    options:NSLiteralSearch
                                      range:range];
        
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/:showlove"
                                 withString:@"ğŸ’‹"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/:rose"
                                 withString:@"ğŸŒ¹"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/:handclap"
                                 withString:@"ğŸ‘"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/:strong"
                                 withString:@"ğŸ‘"
                                    options:NSLiteralSearch
                                      range:range];
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"/:weak"
                                 withString:@"ğŸ‘"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"î"
                                 withString:@"ğŸ˜³"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"î„‡"
                                 withString:@"ğŸ˜±"
                                    options:NSLiteralSearch
                                      range:range];
        
        range.location = 0;
        range.length = retText.length;
        [retText replaceOccurrencesOfString:@"î…"
                                 withString:@"ğŸ˜‰"
                                    options:NSLiteralSearch
                                      range:range];
        
        static NSArray *strArray = nil;
        if (strArray == nil) {
            strArray = [NSArray arrayWithObjects:kStr_01,kStr_02,kStr_03,kStr_04,kStr_05,kStr_06,kStr_07,kStr_08,kStr_09,kStr_10, kStr_11,kStr_12,kStr_13,kStr_14,kStr_15,kStr_16,kStr_17,kStr_18,kStr_19, kStr_20,kStr_21,kStr_22,kStr_23,kStr_24,kStr_25,kStr_26,kStr_27,kStr_28,kStr_29,kStr_30,kStr_31,kStr_32,kStr_33,kStr_34,kStr_35,kStr_36,kStr_37,kStr_38,kStr_39,kStr_40,kStr_41,kStr_42,kStr_43,kStr_44,kStr_45,kStr_46,kStr_47,kStr_48,kStr_49,kStr_50,kStr_51,kStr_52,kStr_53,kStr_54,kStr_55,kStr_56,kStr_57,kStr_58,kStr_59,kStr_60,kStr_61,kStr_62,kStr_63,kStr_64,kStr_65,kStr_66,kStr_67,kStr_68,kStr_69,kStr_70,kStr_71,kStr_72,kStr_73,kStr_74,kStr_75,kStr_76,kStr_77,kStr_78,kStr_79,kStr_80,kStr_81,kStr_82,kStr_83,kStr_84,kStr_85,kStr_86,kStr_87,nil];
        }
        
        static NSArray *ChNArrray = nil;
        if (ChNArrray == nil) {
            ChNArrray = [NSArray arrayWithObjects:kCHN_01,kCHN_02,kCHN_03,kCHN_04,kCHN_05,kCHN_06,kCHN_07,kCHN_08,kCHN_09,kCHN_10, kCHN_11,kCHN_12,kCHN_13,kCHN_14,kCHN_15,kCHN_16,kCHN_17,kCHN_18,kCHN_19, kCHN_20,kCHN_21,kCHN_22,kCHN_23,kCHN_24,kCHN_25,kCHN_26,kCHN_27,kCHN_28,kCHN_29,kCHN_30,kCHN_31,kCHN_32,kCHN_33,kCHN_34,kCHN_35,kCHN_36,kCHN_37,kCHN_38,kCHN_39,kCHN_40,kCHN_41,kCHN_42,kCHN_43,kCHN_44,kCHN_45,kCHN_46,kCHN_47,kCHN_48,kCHN_49,kCHN_50,kCHN_51,kCHN_52,kCHN_53,kCHN_54,kCHN_55,kCHN_56,kCHN_57,kCHN_58,kCHN_59,kCHN_60,kCHN_61,kCHN_62,kCHN_63,kCHN_64,kCHN_65,kCHN_66,kCHN_67,kCHN_68,kCHN_69,kCHN_70,kCHN_71,kCHN_72,kCHN_73,kCHN_74,kCHN_75,kCHN_76,kCHN_77,kCHN_78,kCHN_79,kCHN_80,kCHN_81,kCHN_82,kCHN_83,kCHN_84,kCHN_85,kCHN_86,kCHN_87,nil];
        }
        
        @try {
            [strArray enumerateObjectsUsingBlock:^(id  _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) {
                if ([retText containsString:obj]) {
                    
                    NSRange range;
                    range.location = 0;
                    range.length = retText.length;
                    
                    [retText replaceOccurrencesOfString:obj withString:[NSString stringWithFormat:@"[%@]",[ChNArrray objectAtIndex:idx]] options:NSCaseInsensitiveSearch range:range];
                    NSLog(@"index--%d",idx);
                }
                
            }];
        }
        @catch (NSException *exception) {
            NSLog(@"throw exception is  here!!");
        }
        @finally {
            nil;
        }
        
            }
    return retText;
}


@end
